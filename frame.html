<!DOCTYPE html>
<html lang="it">
  <head>
    <script src="asset/aframe.min.js"></script>
    <script src="asset/aframe-ar.js"></script>
    <style media="screen">
      #arjsDebugUIContainer,.a-enter-vr.embedded{display:none;}
    </style>
  </head>
  <body>
    <!-- <a-scene embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'> -->

      <!-- <a-marker type='barcode' value='0'>
        <a-entity collada-model="url(model/martello2.dae)">
          <a-animation attribute="rotation" to="360 360 360" dur="10000" easing='linear' repeat="indefinite"></a-animation>
        </a-entity>
      </a-marker>
      <a-marker type='barcode' value='1'>
        <a-entity collada-model="url(model/vaschetta.dae)">
          <a-animation attribute="rotation" to="360 360 360" dur="10000" easing='linear' repeat="indefinite"></a-animation>
        </a-entity>
      </a-marker>
      <a-marker type='barcode' value='2'>
        <a-entity collada-model="url(model/pala2.dae)">
          <a-animation attribute="rotation" to="360 360 360" dur="10000" easing='linear' repeat="indefinite"></a-animation>
        </a-entity>
      </a-marker>
      <a-marker type='barcode' value='3'>
        <a-entity collada-model="url(model/luce2.dae)">
          <a-animation attribute="rotation" to="360 360 360" dur="10000" easing='linear' repeat="indefinite"></a-animation>
        </a-entity>
      </a-marker> -->
      <!-- <a-entity camera></a-entity> -->
    <!-- </a-scene> -->
    <a-scene embedded arjs='sourceType: webcam;'>
      <a-entity id="entity">
        <a-animation attribute="rotation" to="360 360 360" dur="10000" easing='linear' repeat="indefinite"></a-animation>
      </a-entity>
      <a-marker-camera preset="hiro"></a-marker-camera>
      <a-entity camera></a-entity>
    </a-scene>
    <script type="text/javascript">
      window.addEventListener('message', function(event) {
        console.log(event.data);
        var e = document.querySelector('#entity');
        e.setAttribute("collada-model", 'url(model/'+event.data+'.dae)');
        // e.setAttribute("scale",'0.3 0.3 0.3');
      });
    </script>
  </body>
</html>
